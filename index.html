<!DOCTYPE html>
<html lang="hr" style="color-scheme: dark;">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Neradni dani u Hrvatskoj</title>

    <style>
        table {
            table-layout: fixed;
            width: 100%;
            border-collapse: collapse;
        }

        th,
        td {
            border: 2px solid black;
            padding: 10px;
            text-align: center;
        }

        td:first-child {
            text-align: left;
        }
    </style>
</head>

<body>
    <h1>Neradni dani u Hrvatskoj</h1>
    <table>
        <thead>
            <tr>
                <th>Ime dana</th>
                <th>Dan u tjednu</th>
                <th>Datum</th>
                <th>Preostalo dana</th>
            </tr>
        </thead>
        <tbody id="holidayList">
        </tbody>
    </table>
    <br>
    <hr>
    <cite>Autor: Ivan Vnučec, <a href="https://github.com/IvanVnucec/neradni-dani-u-hr">GitHub</a>, 2023</cite>

    <script>
        const today = new Date();
        const currentYear = today.getFullYear();
        const nextYear = currentYear + 1;

        const easter = getEasterDate(currentYear);
        const easterMonday = new Date(easter.getTime() + 24 * 60 * 60 * 1000);

        const holidays = [
            { date: new Date(`01/06/${currentYear}`), name: "Sveta tri kralja (Bogojavljenje)" },
            { date: easter, name: "Uskrs" },
            { date: easterMonday, name: "Uskrsni ponedjeljak" },
            { date: new Date(`05/01/${currentYear}`), name: "Praznik rada" },
            { date: new Date(`05/30/${currentYear}`), name: "Dan državnosti" },
            { date: new Date(`06/08/${currentYear}`), name: "Tijelovo" },
            { date: new Date(`06/22/${currentYear}`), name: "Dan antifašističke borbe" },
            { date: new Date(`08/05/${currentYear}`), name: "Dan pobjede i domovinske zahvalnosti i Dan hrvatskih branitelja" },
            { date: new Date(`08/15/${currentYear}`), name: "Velika Gospa" },
            { date: new Date(`11/01/${currentYear}`), name: "Dan svih svetih" },
            { date: new Date(`11/18/${currentYear}`), name: "Dan sjećanja na žrtve Domovinskog rata i Dan sjećanja na žrtvu Vukovara i Škabrnje" },
            { date: new Date(`12/25/${currentYear}`), name: "Božić" },
            { date: new Date(`12/26/${currentYear}`), name: "Sveti Stjepan" },
            { date: new Date(`01/01/${nextYear}`), name: "Nova godina" },
        ];

        holidays.forEach(function (holiday) {
            var row = document.createElement("tr");

            // ime praznika
            var nameCell = document.createElement("td");
            nameCell.innerHTML = holiday.name;
            row.appendChild(nameCell);

            // dan
            const days = ["Nedjelja", "Ponedjeljak", "Utorak", "Srijeda", "Četvrtak", "Petak", "Subota"];
            var dateNameCell = document.createElement("td");
            dateNameCell.innerHTML = days[holiday.date.getDay()];
            row.appendChild(dateNameCell);

            // datum
            var dateCell = document.createElement("td");
            dateCell.innerHTML = holiday.date.toLocaleDateString();
            row.appendChild(dateCell);

            // preostalo dana
            holiday.daysUntil = Math.round((holiday.date - today) / (1000 * 60 * 60 * 24));
            var daysUntilCell = document.createElement("td");
            daysUntilCell.innerHTML = holiday.daysUntil;
            row.appendChild(daysUntilCell);

            document.getElementById("holidayList").appendChild(row);
        });

        function getEasterDate(year) {
            var a = year % 19;
            var b = Math.floor(year / 100);
            var c = year % 100;
            var d = Math.floor(b / 4);
            var e = b % 4;
            var f = Math.floor((b + 8) / 25);
            var g = Math.floor((b - f + 1) / 3);
            var h = (19 * a + b - d - g + 15) % 30;
            var i = Math.floor(c / 4);
            var k = c % 4;
            var l = (32 + 2 * e + 2 * i - h - k) % 7;
            var m = Math.floor((a + 11 * h + 22 * l) / 451);
            var month = Math.floor((h + l - 7 * m + 114) / 31);
            var day = ((h + l - 7 * m + 114) % 31) + 1;
            return new Date(year, month - 1, day);
        }
    </script>
</body>

</html>